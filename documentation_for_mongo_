#update
sudo apt update -y
 
# upgrade exclude debian
sudo DEBIAN_FRONTEND=noninteractive apt upgrade -y
 

link to official 

https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-ubuntu/#std-label-install-mdb-community-ubuntu


Import the public key.
From a terminal, install gnupg and curl if they are not already available:

sudo apt-get install gnupg curl

To import the MongoDB public GPG key, run the following command:

    curl -fsSL https://www.mongodb.org/static/pgp/server-7.0.asc | \
   sudo gpg -o /usr/share/keyrings/mongodb-server-7.0.gpg \
   --dearmor





   sudo apt-get install -y mongodb-org=7.0.14 mongodb-org-database=7.0.14 mongodb-org-server=7.0.14 mongodb-mongosh mongodb-org-mongos=7.0.14 mongodb-org-tools=7.0.14


stop mongo db from being upgraded

   echo "mongodb-org hold" | sudo dpkg --set-selections
   echo "mongodb-org-database hold" | sudo dpkg --set-selections
   echo "mongodb-org-server hold" | sudo dpkg --set-selections
   echo "mongodb-mongosh hold" | sudo dpkg --set-selections
   echo "mongodb-org-mongos hold" | sudo dpkg --set-selections
   echo "mongodb-org-tools hold" | sudo dpkg --set-selections


   sudo systemctl status mongod



127.0.0.1 
"local host "

mongo will only accept connections from where it is installed

sed -i 's/old-text/new-text/g' input.txt

sudo sed -i.bak 's/127.0.0.1/0.0.0.0/' /etc/mongod.conf && sudo systemctl restart mongod



1  clear
    2  sudo update -y
    3  sudo apt update
    4  # update
    5  sudo apt update -y
    6  # upgrade exclude debian
    7  sudo DEBIAN_FRONTEND=noninteractive apt upgrade -y
    8  # install nginx exclude debian
    9  sudo DEBIAN_FRONTEND=noninteractive apt-get install nginx -y
   10  # restart nginx
   11  sudo systemctl restart nginx
   12  # enable nginx
   13  sudo systemctl enable nginx

   
   14  # use curl to download the nodejs setup file
   15  curl -fsSL https://deb.nodesource.com/setup_20.x -o setup_nodejs.sh


   16  # run the setup file through bash
   17  sudo DEBIAN_FRONTEND=noninteractive bash setup_nodejs.sh


   18  # install nodejs
   19  sudo DEBIAN_FRONTEND=noninteractive apt install nodejs -y


   20  # install unzip
   21  sudo DEBIAN_FRONTEND=noninteractive apt install unzip -y


   22  # download sparta-app from github
   23  git clone https://github.com/Bag3ll/sparta-app.git


   24  # cd into sparta-app
   25  cd sparta-app


   26  # unzip folder
   27  unzip nodejs20-sparta-test-app.zip


   28  # go into app folder
   29  cd app


   30  # install app
   31  npm install

   32  # start app
   33  npm start &


   34  # show that the app is running
   35  echo "Checking if the app is running..."
   36  sleep 5
   37  if curl -s http://localhost:3000 > /dev/null; then     echo "App is running successfully on port 3000!"; else     echo "Failed to start the app. Check logs for more details."; fi





   http://172.187.147.50:3000/

   scp -i cloudfun1-thomas-az /Users/thomasebden/downloads/nodejs20-sparta-test-app-2.zip adminuser@172.187.147.50:/home/adminuser
   ls
   nodejs20-sparta-test-app-2.zip  setup_nodejs.sh
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~$ cd nodejs20-sparta-test-app-2.zip
   -bash: cd: nodejs20-sparta-test-app-2.zip: Not a directory
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~$ sudo DEBIAN_FRONTEND=noninteractive apt-get install unzip -y
   
   
   cd nodejs20-sparta-test-app-2/
   -bash: cd: nodejs20-sparta-test-app-2/: Permission denied
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~$ sudo chmod 777 nodejs20-sparta-test-app-2
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~$ cd nodejs20-sparta-test-app-2/
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~/nodejs20-sparta-test-app-2$ ls
   README.md  app
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~/nodejs20-sparta-test-app-2$ cd app
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~/nodejs20-sparta-test-app-2/app$ ls
   README.md  app.js  models  node_modules  package-lock.json  package.json  public  seeds  test  views
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~/nodejs20-sparta-test-app-2/app$ sudo npm install
   
   > sparta-test-app@1.0.1 postinstall
   > node seeds/seed.js
   
   
   
   
   sudo apt update && sudo apt upgrade -y
   
   sudo apt intall nginx
   
   copy downloading file 
   
    scp -i cloudfun1-thomas-az /Users/thomasebden/downloads/nodejs20-sparta-test-app-2.zip adminuser@172.187.147.50:/home/adminuser
   
   
   nodejs20-sparta-test-app-2.zip  setup_nodejs.sh
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~$ cd nodejs20-sparta-test-app-2.zip
   -bash: cd: nodejs20-sparta-test-app-2.zip: Not a directory
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~$ sudo DEBIAN_FRONTEND=noninteractive apt-get install unzip -y
   
   
   cd nodejs20-sparta-test-app-2/
   -bash: cd: nodejs20-sparta-test-app-2/: Permission denied
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~$ sudo chmod 777 nodejs20-sparta-test-app-2
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~$ cd nodejs20-sparta-test-app-2/
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~/nodejs20-sparta-test-app-2$ ls
   README.md  app
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~/nodejs20-sparta-test-app-2$ cd app
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~/nodejs20-sparta-test-app-2/app$ ls
   README.md  app.js  models  node_modules  package-lock.json  package.json  public  seeds  test  views
   
   
   Install npm 
   
   adminuser@cloudfun1-thomas-se-uks-sparta-app:~/nodejs20-sparta-test-app-2/app$ sudo npm install
   
   
   
   
   14# copy and download the nonde file zip
      scp -i privatekey ~/Downloads/nodejs20-sparta-test-app.zip adminuser@20.117.182.7:/home/adminuser
   
   
   